def findBridgeCat():
    global planks
    xVals = [plank.pos.x for plank in planks]
    yVals = [plank.pos.y for plank in planks]
    lowestDiff = 1e10
    yAdj = 0
    for i in range(1, 50, 0.1):
        accVals = []
        valDiff = 0
        tempYDiff = 0
        for j in range(len(planks)):
            accVals.append((i/2) * (exp(xVals[j]/i)+ exp(-xVals[j]/i)))
            valDiff += abs(yVals[j]-accVals[j])
            tempYDiff += yVals[j]-accVals[j]
        #print(valDiff)
        if valDiff < lowestDiff:
            yAdj = tempYDiff
            a = i
    return a, yAdj/len(planks)

a = findBridgeCat()[0]
#yDiff = findBridgeCat()[1]

def findCatPts():
    global planks
    global a
    ptsList = []
    xStart = planks[0].pos.x
    xStop = planks[len(planks)-1].pos.x
    print(xStart)
    print(xStop)
    for xVal in range(xStart, xStop,0.1):
        yVal = (a/2) * (exp(xVal/a)+exp(-xVal/a))
        ptsList.append(vec(xVal, yVal + 20, -100))
    return ptsList
        
ptsList = findCatPts()    
catCurve = curve(pos = ptsList, color = color.red, radius = 1.5)
changeModelCat = slider(bind=changeCat, min=1, max = 15, step = 0.1, value=1, align = 'left')
        
ModelCat = wtext(text='a = ' + '{:1.2f}'.format(changeModelCat.value) + '\n\n\n')    
def changeCat(evt):
    global catCurve
    global firstPt
    global middlePt
    global lastPt
    catCurve.visible = False
    ptsList = []
    ModelCat.text = 'a = ' + '{:1.2f}'.format(evt.value) + '\n\n\n'
    a = evt.value
    ptsList = findCatPts()
    newCurve = curve(pos = ptsList, color = color.red, radius = 1.5)
    catCurve = newCurve    
